<ng-container *ngIf="loading">
  <div class="skeleton-wrapper">
    <div class="skeleton-banner shimmer"></div>
    <!-- <div class="skeleton-section shimmer" *ngFor="let i of [1,2,3,4]"></div> -->
  </div>
</ng-container>


<ng-container *ngIf="!loading">
  <div id="abin-design-studio-project-detail-page-wrapper" class="abin-design-studio-page-wrapper">
    <section class="abin-design-studio-section relative parallax-section" id="abin-design-studio-project-detail-1"
      *ngIf="!loading">
      <div class="parallax-bg" #parallaxBg [ngStyle]="{
      'background-image': bannerImageUrl ? 'url(' + bannerImageUrl + ')' : 'none'
    }"></div>
      <div class="detail-banner-abs">
        <div class="main-container">
          <div class="inner-flex inner-flex-big">
            <div *ngIf="projectDetailObj.project">
              <div class="big-banner-title overflowdiv"
                *ngFor="let word of projectDetailObj?.project?.split(' '); let i = index">
                <h1 class="white-color uppercase" data-aos="fade-up" [attr.data-aos-delay]="300 + (i * 200)">
                  {{ word }}
                </h1>
              </div>
            </div>

            <div class="flex-row flex-row-medium flex-col-mobile overflowdiv">
              <div class="section-content" *ngIf="projectDetailObj.location">
                <p class="white-color uppercase bold-fonts" data-aos="fade-up" data-aos-delay="700">
                  {{projectDetailObj.location}}
                </p>
              </div>
              <div class="section-content" *ngIf="projectDetailObj.year">
                <p class="white-color uppercase bold-fonts" data-aos="fade-up" data-aos-delay="800">
                  {{ projectDetailObj.year }}
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="abin-design-studio-section relative" id="abin-design-studio-project-detail-2">


      <div class="overview-flex-wrapper">
        <div class="overview-content-card">
          <div class="section-subtitle">
            <p class="regular-fonts scroll-reveal-text" id="scroll-reveal-text"
              [innerHTML]="projectDetailObj.short_description"></p>
          </div>


        </div>
        <div class="overview-image relative">

          <div class="publication-popup" *ngIf="projectDetailObj?.publication_details?.length"
            [ngClass]="{'publication-popup-active': isPublicationOpen}">
            <div class="publicatiuon-popup-card" *ngFor="let pub of projectDetailObj.publication_details">

              <!-- Popup Image -->
              <div class="publication-popup-img relative">
                <div class="section-paragraph close-publications c-pointer" (click)="closeAll()">
                  <p class="white-color">&times;</p>
                </div>
                <img [src]="pub.thumbnail" [alt]="pub.title || 'Publication Image'">
              </div>

              <!-- Title -->
              <div class="section-paragraph">
                <p class="bold-fonts">{{ pub.title }}</p>
              </div>

              <!-- Description (render as HTML) -->
              <div class="section-paragraph" [innerHTML]="pub.description"></div>

            </div>
          </div>

          <div class="credits-popup" [ngClass]="{'credits-popup-active': isCreditOpen}"
            *ngIf="projectDetailObj?.credits_content?.length">
            <div class="inner-flex inner-flex-small inner-popup-space"
              [ngClass]="{'inner-popup-space-active': isInnerPopupActive}">
              <div class="section-paragraph c-pointer" (click)="closeAll()">
                <p>&times;</p>
              </div>
              <div class="section-paragraph section-paragraph-credit">
                <p class="helvetica-bold lh1">
                  credits
                </p>
              </div>
              <div class="credits-inner-flex">
                <div class="inner-flex inner-flex-small">
                  <div class="inner-flex inner-flex-smallest section-content"
                    *ngFor="let creditData of projectDetailObj.credits_content">
                    <p class="lh1 helvetica">
                      {{creditData.title}}
                    </p>
                    <p class="lh1 helvetica-bold">{{creditData.content}}</p>
                  </div>

                </div>
              </div>
            </div>
          </div>
          <div class="abs-click-btns">
            <div class="section-paragraph" *ngIf="projectDetailObj?.credits_content?.length">
              <p (click)="openCredits()" class="c-pointer semibold-fonts">+ Credits</p>
            </div>
            <div class="section-paragraph">
              <p (click)="openPublication()" class="c-pointer semibold-fonts">+ Publication</p>
            </div>
          </div>
          <img src="./assets/images/projects/waterfront-pavilion/detail-popup-mob.png" alt="">
        </div>
      </div>
    </section>


    <div class="inner-flex inner-flex-sidepadding-gap">
      <ng-container *ngFor="let section of projectDetailObj.sections; let i = index">

        <!-- Skip banner-block -->
        <ng-container *ngIf="section.type !== 'banner-block'">

          <!-- text-image-block & image-text-block -->
          <section *ngIf="section.type === 'text-image-block' || section.type === 'image-text-block'"
            class="abin-design-studio-section bg-image-section-detail relative"
            [ngStyle]="{'background-image': 'url(' + section.content.image_view + ')'}">

            <div class="visible-tab-mobile mobile-detail-images">
              <img [src]="section.content.image_view" alt="">
            </div>

            <div class="section-abs-section">
              <div class="main-container">
                <div class="section-subtitle inner-abs-container">
                  <p class="white-color regular-fonts lh1" [innerHTML]="section.content.text"></p>
                </div>
              </div>
            </div>
          </section>

          <!-- image-block -->
          <section *ngIf="section.type === 'image-block'"
            class="abin-design-studio-section bg-image-section-detail relative"
            [ngStyle]="{'background-image': 'url(' + section.content.image_view + ')'}">
            <div class="visible-tab-mobile mobile-detail-images">
              <img [src]="section.content.image_view" alt="">
            </div>
          </section>


          <!-- video-block -->
          <section *ngIf="section.type === 'upload-video'"
            class="abin-design-studio-section bg-image-section-detail detail-video-section relative">

            <video #autoVideo src="./assets/images/projects/ waterfront-pavilion/dummy-video.mp4" muted playsinline
              preload="auto" loop style="width:100%; height:100%; object-fit:cover;"></video>

          </section>

          <!-- gallery-block -->
          <section *ngIf="section.type === 'gallery-block'" class="abin-design-studio-section relative">

            <div class="abin-sec-6-grid">
              <div class="sec-6-image" *ngFor="let img of section.content">
                <img #scalableImage [src]="img.image_view" alt="">
              </div>
            </div>
          </section>

        </ng-container>

      </ng-container>
    </div>

    <!-- <div class="inner-flex inner-flex-sidepadding-gap">
    <section class="abin-design-studio-section bg-image-section-detail relative"
      id="abin-design-studio-project-detail-3">
      <div class="visible-tab-mobile mobile-detail-images">
        <img src="./assets/images/projects/waterfront-pavilion/detail-sec3-web.jpg" alt="">
      </div>

      <div class="section-abs-section">
        <div class="main-container">
          <div class="section-subtitle inner-abs-container">
            <p class="white-color regular-fonts lh1">The story of Adisaptagram's football club and the construction of a
              clubhouse by Abin
              Design Studio is a compelling narrative of community-driven development.</p>
          </div>
        </div>
      </div>
    </section>
    <section class="abin-design-studio-section bg-image-section-detail relative"
      id="abin-design-studio-project-detail-4"></section>
    <section class="abin-design-studio-section bg-image-section-detail relative"
      id="abin-design-studio-project-detail-5">
      <div class="visible-tab-mobile mobile-detail-images">
        <img src=".//assets/images/projects/waterfront-pavilion/Waterfront_Clubhouse_5-web.jpg" alt="">
      </div>
      <div class="image-overlay hide-tab-mobile"></div>
      <div class="section-abs-section">
        <div class="main-container">
          <div class="section-subtitle inner-abs-container-2">
            <p class="white-color mobile-primary-white regular-fonts lh1">
              Utilizing local materials, labor, and donations, the structure includes basic sanitation, multipurpose
              spaces, and a viewing deck. It symbolizes inclusive development, sustainability, and hope for a better
              community future.
            </p>
          </div>
        </div>
      </div>
    </section>
    <section class="abin-design-studio-section relative" id="abin-design-studio-project-detail-6">
      <div class="abin-sec-6-grid">
        <div class="sec-6-image">
          <img #scalableImage src="./assets/images/projects/waterfront-pavilion/clubhouse5_2-web.jpg" alt="">
        </div>
        <div class="sec-6-image">
          <img #scalableImage src="./assets/images/projects/waterfront-pavilion/clubhouse5_1.jpg" alt="">
        </div>
      </div>
    </section>
    <section class="abin-design-studio-section bg-image-section-detail relative"
      id="abin-design-studio-project-detail-7"></section>
  </div> -->
    <section class="abin-design-studio-section relative" id="abin-design-studio-project-detail-8">
      <div class="nex-prev-grid">
        <a routerLink="/{{projectDetailObj.previous_projects.slug}}/" routerLinkActive="active" class="prev-div-wrapper relative">
          <div class="prev-nex-img-div">
            <img src="{{projectDetailObj.previous_projects.featured_image_full}}&w=1080&h=1080&q=100" alt="">
            <div class="overlay-next-rev"></div>
          </div>
          <div class="prev-abs-wrapper prev-next-abs-wrapper">
            <div class="section-subtitle2">
              <p class="semibold-fonts white-color lh1">
                {{projectDetailObj.previous_projects.project}}
              </p>
            </div>
            <div class="section-content">
              <p class="white-color lh1">
                Previous Project
              </p>
            </div>
          </div>
        </a>
        <a routerLink="/{{projectDetailObj.previous_projects.slug}}/" routerLinkActive="active" class="next-div-wrapper relative">
          <div class="prev-nex-img-div">
            <img src="{{projectDetailObj.next_project.featured_image_full}}&w=1080&h=1080&q=100" alt="">
            <div class="overlay-next-rev"></div>
          </div>
          <div class="next-abs-wrapper prev-next-abs-wrapper">
            <div class="section-subtitle2">
              <p class="semibold-fonts white-color lh1">
                {{projectDetailObj.next_project.project}}
              </p>
            </div>
            <div class="section-content">
              <p class="white-color lh1">
                Next Project
              </p>
            </div>
          </div>
        </a>
      </div>
    </section>
  </div>






</ng-container>
<div class="popup-overlay visible-tab-mobile" [ngClass]="{'popup-overlay-active': isOverlayActive}"
  (click)="closeAll()">
</div>
